import assert from 'assert';
import React from 'react';
import styled from 'styled-components';
import { colorMap, TransportMode } from '../../types/route';

const Container = styled.div`
  float: left;
  display: flex;
  justify-content: center;
  max-width: 100%;
`;

const SvgContainer = styled.svg`
  width: 1em;
  height: 1em;
  display: inline-block;
  fill: currentColor;
  font-size: ${(props: Props) => props.size};
`;

enum Size {
  Small = '12px',
  Medium = '16px',
  Large = '20px'
}

type Props = {
  size?: Size;
  viewBox?: string;
};

const Wrapper = ({
  children,
  size = Size.Large,
  viewBox = '0 0 40 40'
}: React.PropsWithChildren<Props>) => {
  return (
    <Container>
      <SvgContainer size={size} viewBox={viewBox}>
        {children}
      </SvgContainer>
    </Container>
  );
};

export const Walk = (props: Props) => {
  return (
    <Wrapper viewBox="0 0 9 16" {...props}>
      <path
        fill="#000000"
        d="M.232 14.787l1.693-2.022.96-2.073c.127-.05.254-.101.355-.177v-.025c.278-.202.43-.53.455-.91v-.404l2.224.05 2.932 5.89L7.107 16l-2.325-4.65-1.239 2.552L1.748 16 .232 14.787zm3.437-10.49c.582 0 1.138.127 1.593.506.53.43.733.986.707 1.643l-.05 2.401-2.224-.05.025-2.149-.38.581-.05 2.326c0 .278-.1.505-.278.632-.177.126-.354.202-.632.202s-.455-.101-.632-.228c-.151-.126-.252-.354-.252-.632l.05-2.704L2.76 4.677c.177-.253.506-.38.91-.38zm1.113-.227c1.112.025 2.047-.885 2.072-1.997C6.88.936 5.97.026 4.832.001 3.72-.025 2.785.885 2.76 1.997c-.025 1.112.885 2.048 2.023 2.073zm2.704 4.524c.278 0 .506-.1.632-.253.152-.176.227-.379.227-.631 0-.278-.075-.455-.202-.658-.126-.151-.354-.278-.632-.278L6.298 6.75l-.025 1.82 1.213.025z"
      />
    </Wrapper>
  );
};

export const Bus = (props: Props) => {
  return (
    <Wrapper viewBox="0 0 1024 1024" {...props}>
      <path
        fill="#ffffff"
        d="M874.388 993.287h-716.811c-67.864 0-122.883-55.015-122.883-122.883v-716.811c0-67.864 55.015-122.883 122.883-122.883h716.811c67.864 0 122.883 55.015 122.883 122.883v716.811c0 67.868-55.018 122.883-122.883 122.883z"
      />
      <path
        fill="rgb(0, 122, 201)"
        d="M0.033 126.799c0-69.114 57.594-126.709 126.709-126.709h767.931c71.676 0 129.27 57.594 129.27 126.709v767.931c0 71.672-57.594 129.27-129.27 129.27h-767.928c-69.114 0-126.709-57.594-126.709-129.27v-767.931zM513.268 110.16c-106.229 0-198.384 5.119-299.491 19.197-30.717 3.84-48.635 21.758-48.635 48.635v598.985c0 19.197 14.078 31.996 26.877 35.836l38.397 6.398v80.631c0 8.959 7.68 15.36 17.918 15.36h61.434c7.68 0 15.357-6.398 15.357-15.36v-71.672c49.914 6.398 117.75 8.959 185.585 8.959 69.114 0 139.508-2.558 188.146-8.959v71.672c0 8.959 8.959 15.36 16.636 15.36h61.434c10.238 0 17.918-6.398 17.918-15.36v-80.631l38.397-6.398c14.078-3.84 26.877-15.357 26.877-35.836v-598.982c0-26.877-17.918-44.795-48.635-48.635-102.393-12.799-195.823-19.2-298.216-19.2zM778.205 620.834c-72.951 12.799-168.946 25.598-262.376 25.598-98.553 0-191.983-11.517-266.216-28.156-20.476-3.84-28.156-11.52-28.156-28.156v-373.731c0-16.636 7.68-28.156 28.156-28.156l528.592 2.558c20.479 0 26.877 11.52 26.877 28.159v373.728c0 16.639-6.398 25.598-26.877 28.156zM241.933 723.227c1.279-16.636 16.636-31.996 34.557-31.996 17.918 0 33.275 15.357 33.275 31.996 0 19.197-15.357 34.557-33.275 34.557-19.197-1.279-34.557-16.639-34.557-34.557zM710.373 723.227c1.279-16.636 16.639-31.996 33.275-31.996 17.918 0 33.278 15.357 33.278 31.996 0 19.197-15.357 34.557-33.278 34.557-17.918-1.279-33.275-16.639-33.275-34.557z"
      />
    </Wrapper>
  );
};

export const Rail = (props: Props) => {
  return (
    <Wrapper viewBox="0 0 1024 1024" {...props}>
      <path
        fill="#ffffff"
        d="M870.407 993.287h-716.811c-67.864 0-122.883-55.015-122.883-122.883v-716.811c0-67.864 55.015-122.883 122.883-122.883h716.811c67.864 0 122.883 55.015 122.883 122.883v716.811c0 67.868-55.018 122.883-122.883 122.883z"
      />
      <path
        fill="rgb(140, 71, 153)"
        d="M0.033 126.799c0-69.114 57.594-126.709 126.709-126.709h767.931c71.676 0 129.27 57.594 129.27 126.709v767.931c0 71.672-57.594 129.27-129.27 129.27h-767.931c-69.114 0-126.709-57.594-126.709-129.27v-767.931zM785.886 130.639c-28.156-25.598-149.749-55.036-273.896-55.036-120.311 0-244.458 29.438-271.335 55.036-19.197 16.636-38.397 55.033-61.434 103.672-19.197 42.234-34.557 81.913-34.557 104.95v369.888c0 29.438 10.238 42.237 49.918 72.954 29.435 23.037 42.234 33.275 87.032 33.275h84.471v55.036h295.654v-55.036h83.192c44.795 0 57.594-10.238 85.754-33.275 39.676-31.996 48.635-43.516 48.635-72.954v-369.888c0-23.037-15.357-62.713-33.275-104.95-23.044-48.639-40.962-87.032-60.159-103.672zM751.328 908.812v-53.754h-47.356v53.754h-381.404v-53.754h-48.639v53.754h-58.873c-14.078 0-25.598 11.517-25.598 24.316 0 14.078 11.52 25.598 25.598 25.598h596.428c14.078 0 24.316-11.52 24.316-25.598 0-12.799-10.238-24.316-24.316-24.316h-60.155zM724.451 582.44c-3.836 21.758-25.595 38.397-47.356 38.397h-327.654c-21.758 0-43.516-16.639-47.353-38.397l-60.155-254.699c-3.84-21.758 10.238-38.397 31.996-38.397h477.399c21.758 0 37.115 16.639 31.996 38.397l-58.873 254.699zM706.533 175.434v21.758c0 16.639-12.799 30.717-29.438 30.717h-327.654c-16.636 0-30.717-14.078-30.717-30.717v-21.758h387.809zM318.727 715.546c0-17.918 12.799-31.996 30.717-31.996s33.278 14.078 33.278 31.996-15.357 30.717-33.278 30.717c-17.918 0-30.717-12.799-30.717-30.717zM645.099 711.706c0-17.918 14.078-31.996 31.996-31.996s31.996 14.078 31.996 31.996-14.078 30.717-31.996 30.717c-17.918 0-31.996-12.799-31.996-30.717z"
      />
    </Wrapper>
  );
};

export const Subway = (props: Props) => {
  return (
    <Wrapper viewBox="0 0 1024 1024" {...props}>
      <path
        fill={colorMap.SUBWAY}
        d="M871.036 993.287H154.225c-67.864 0-122.883-55.015-122.883-122.883V153.593c0-67.864 55.015-122.883 122.883-122.883h716.811c67.864 0 122.883 55.015 122.883 122.883v716.811c0 67.868-55.018 122.883-122.883 122.883z"
      />
      <path
        d="M732.237 401.243v-21.037c0-1.252 2.505-2.473 5.009-2.473v504.921h156.056V141.347h-230.28L518.296 647.521l-2.504 34.655h-3.788l-3.788-34.655-144.692-506.174H131.96v741.307h158.56V377.733c1.253 0 3.789 1.22 3.789 2.473v21.037l140.936 481.411h154.773l142.22-481.411z"
        fill="#ffffff"
      />
    </Wrapper>
  );
};

// I'm too lazy to create proper icon for this now, copy paste from RAIL
const Tram = (props: Props) => {
  return (
    <Wrapper viewBox="0 0 1024 1024" {...props}>
      <path
        fill={colorMap.RAIL}
        d="M870.407 993.287h-716.811c-67.864 0-122.883-55.015-122.883-122.883v-716.811c0-67.864 55.015-122.883 122.883-122.883h716.811c67.864 0 122.883 55.015 122.883 122.883v716.811c0 67.868-55.018 122.883-122.883 122.883z"
      />
      <path
        fill="rgb(140, 71, 153)"
        d="M0.033 126.799c0-69.114 57.594-126.709 126.709-126.709h767.931c71.676 0 129.27 57.594 129.27 126.709v767.931c0 71.672-57.594 129.27-129.27 129.27h-767.931c-69.114 0-126.709-57.594-126.709-129.27v-767.931zM785.886 130.639c-28.156-25.598-149.749-55.036-273.896-55.036-120.311 0-244.458 29.438-271.335 55.036-19.197 16.636-38.397 55.033-61.434 103.672-19.197 42.234-34.557 81.913-34.557 104.95v369.888c0 29.438 10.238 42.237 49.918 72.954 29.435 23.037 42.234 33.275 87.032 33.275h84.471v55.036h295.654v-55.036h83.192c44.795 0 57.594-10.238 85.754-33.275 39.676-31.996 48.635-43.516 48.635-72.954v-369.888c0-23.037-15.357-62.713-33.275-104.95-23.044-48.639-40.962-87.032-60.159-103.672zM751.328 908.812v-53.754h-47.356v53.754h-381.404v-53.754h-48.639v53.754h-58.873c-14.078 0-25.598 11.517-25.598 24.316 0 14.078 11.52 25.598 25.598 25.598h596.428c14.078 0 24.316-11.52 24.316-25.598 0-12.799-10.238-24.316-24.316-24.316h-60.155zM724.451 582.44c-3.836 21.758-25.595 38.397-47.356 38.397h-327.654c-21.758 0-43.516-16.639-47.353-38.397l-60.155-254.699c-3.84-21.758 10.238-38.397 31.996-38.397h477.399c21.758 0 37.115 16.639 31.996 38.397l-58.873 254.699zM706.533 175.434v21.758c0 16.639-12.799 30.717-29.438 30.717h-327.654c-16.636 0-30.717-14.078-30.717-30.717v-21.758h387.809zM318.727 715.546c0-17.918 12.799-31.996 30.717-31.996s33.278 14.078 33.278 31.996-15.357 30.717-33.278 30.717c-17.918 0-30.717-12.799-30.717-30.717zM645.099 711.706c0-17.918 14.078-31.996 31.996-31.996s31.996 14.078 31.996 31.996-14.078 30.717-31.996 30.717c-17.918 0-31.996-12.799-31.996-30.717z"
      />
    </Wrapper>
  );
};

export const LegIcon = ({
  transportMode,
  ...props
}: { transportMode: TransportMode } & Props): JSX.Element => {
  if (transportMode === 'WALK') {
    return <Walk {...props} />;
  }
  if (transportMode === 'BUS') {
    return <Bus {...props} />;
  }
  if (transportMode === 'RAIL') {
    return <Rail {...props} />;
  }
  if (transportMode === 'SUBWAY') {
    return <Subway {...props} />;
  }
  if (transportMode === 'TRAM') {
    return <Tram {...props} />;
  }
  assert(false, 'Invalid value for transport mode');
};
